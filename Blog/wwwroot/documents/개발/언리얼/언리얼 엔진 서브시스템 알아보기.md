---
Title: 언리얼 엔진 서브시스템 알아보기
ThumbnailUri:
Tags:
  - Unreal
---
# 개요

언리얼 엔진은 개발자가 편하게 작업할 수 있도록 다양한 프레임워크를 제공합니다. 오늘은 그중 **서브시스템(Subsystem)**에 대해 정리하려고 합니다.

# 언리얼 서브시스템: 싱글턴의 대체자

전통적으로, 전체에 유일하게 존재하며 어디서든 접근해야 하는 관리자 객체가 필요하면 흔히 싱글턴 패턴을 사용합니다. 싱글턴은 전역적인 접근점을 제공하여 상태를 공유하기 쉽게 만들어준다는 명확한 장점이 있습니다.

하지만 대부분의 경우 싱글턴은 득보다 실이 많습니다. 전역 상태는 코드의 의존성을 높여 결합도를 강화하고, 이는 유닛 테스트를 매우 어렵게 만듭니다. 또한, 객체의 생성과 소멸 시점을 명확하게 제어하기 힘들어 멀티스레딩 환경에서 문제를 일으키거나, 언리얼 엔진의 복잡한 초기화 및 종료 과정에서 예상치 못한 충돌을 유발하기도 합니다.

언리얼 엔진은 이러한 싱글턴 패턴의 단점들을 해결하고, 더 안정적이고 체계적인 방법을 제공하기 위해 **서브시스템**이라는 프레임워크를 도입했습니다.

## 서브시스템이란?

서브시스템은 언리얼 엔진에 의해 **생명주기가 관리되는 자동 인스턴스 클래스**입니다. 즉, 개발자가 직접 객체를 생성하고 소멸시킬 필요 없이, 엔진의 특정 요소(예: 게임 인스턴스, 월드)가 생성될 때 함께 생성되고, 소멸될 때 함께 정리되는 편리한 객체입니다.

이러한 특성 덕분에 서브시스템은 싱글턴의 장점인 '전역적인 접근성'은 유지하면서도, 단점인 '모호한 생명주기'와 '높은 결합도' 문제를 해결합니다.

## 서브시스템의 종류와 생명주기

서브시스템의 가장 큰 특징은 그 생명주기가 명확하게 정의되어 있다는 점입니다. 목적에 따라 다양한 서브시스템을 상속받아 사용할 수 있습니다.

주로 사용되는 서브시스템의 종류를 정리한 표는 다음과 같습니다.

| 서브시스템 종류                   | 생명주기 (Lifetime)                 | 주요 사용 사례                                            |
| -------------------------- | ------------------------------- | --------------------------------------------------- |
| **UGameInstanceSubsystem** | 게임 인스턴스와 동일 (게임 시작 ~ 게임 종료)     | 레벨이 변경되어도 유지되어야 하는 데이터 관리 (플레이어 프로필, 인벤토리, 게임 설정 등) |
| **UWorldSubsystem**        | 월드(레벨)와 동일 (레벨 로드 ~ 레벨 언로드)     | 현재 레벨에만 종속적인 시스템 관리 (AI 관리자, 퀘스트 시스템, 동적 환경 시스템 등)  |
| **ULocalPlayerSubsystem**  | 로컬 플레이어와 동일 (플레이어 생성 ~ 플레이어 소멸) | 각 플레이어에게 개별적으로 필요한 데이터 관리 (플레이어별 UI 상태, 입력 설정 등)    |
| **UEngineSubsystem**       | 엔진과 동일 (엔진 실행 ~ 엔진 종료)          | 에디터와 게임을 포함하여 엔진 전반에 걸쳐 필요한 핵심 기능 (온라인 서비스 연동 등)    |
| **UEditorSubsystem**       | 에디터와 동일 (에디터 실행 ~ 에디터 종료)       | 에디터의 기능을 확장하는 툴이나 유틸리티 개발                           |

## 서브시스템 사용의 장점

1. **명확한 생명주기:** `Initialize()`와 `Deinitialize()` 함수를 오버라이드하여 서브시스템의 초기화 및 정리 시점에 원하는 로직을 안전하게 실행할 수 있습니다. 이는 싱글턴의 소멸자 호출 시점이 불분명한 문제점을 완벽하게 해결합니다.
    
2. **쉬운 접근성:** C++과 블루프린트 모두에서 매우 간단하게 접근할 수 있습니다. 특히 블루프린트에서는 `Get Subsystem` 노드를 통해 직관적으로 원하는 서브시스템을 가져올 수 있습니다.
    
3. **결합도 감소:** 서브시스템을 사용하는 코드는 구체적인 클래스가 아닌 서브시스템 프레임워크에 의존하게 됩니다. 이는 유닛 테스트 시 가짜(mock) 서브시스템을 주입하기 용이하게 만들어 테스트의 효율성을 높여줍니다.
    
4. **모듈화:** 기능별로 서브시스템을 분리하여 개발하면 코드의 가독성과 유지보수성이 크게 향상됩니다. 게임이 복잡해지더라도 각 기능은 독립적인 서브시스템 내에서 관리되므로 관리가 용이합니다.
    

추가로 이런 장점들을 바탕으로, 언리얼 공식 문서에서는 GameInstance 클래스를 상속받아 확장하는 방식보다 UGameInstanceSubsystem 서브시스템을 구현해 모듈화를 추천합니다.

## 서브시스템 사용 시 주의할 점

서브시스템은 각 클래스마다 개별 인스턴스가 생성됩니다. `Base` 서브시스템 클래스를 상속받은 `Derived` 서브시스템 클래스가 있다면, `Base` 인스턴스와 `Derived` 인스턴스는 완전히 별개로 취급됩니다. `Base` 인스턴스의 상태가 변경되어도 `Derived` 인스턴스의 `Base` 부분 상태는 변경되지 않으며, 그 반대도 마찬가지입니다.

따라서 특정 서브시스템의 기능이 필요하다면 상속을 받기보다는, 별도의 서브시스템으로 만들어 서로 참조하는 형태로 사용하는 것이 좋습니다.

# 결론

서브시스템은 기존의 싱글턴을 완전히 대체하며, 더 안정적이고, 유연하며, 언리얼에 완벽히 통합됩니다. 더이상 위험을 동반하는 커스텀 싱글턴 클래스를 제작할 필요가 없습니다.

# 참고
[프로그래밍 서브시스템 | 언리얼 엔진 5.6 문서 | Epic Developer Community](https://dev.epicgames.com/documentation/ko-kr/unreal-engine/programming-subsystems-in-unreal-engine)